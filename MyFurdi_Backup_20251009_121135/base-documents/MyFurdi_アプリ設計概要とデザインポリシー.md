# MyFurdi アプリ設計概要とデザインポリシー

## 1. アプリケーション概要

### 1.1 アプリの位置づけ
MyFurdiは、女性専用AIパーソナルトレーニングジム「FURDI」の会員向け習慣化支援アプリケーションである。

### 1.2 ミッション
**"あなたのために 最高のあなたへ"**

FURDIのブランドメッセージを体現し、女性一人ひとりの目的や体力に合わせたパーソナライズされたフィットネス体験を、デジタル上で継続的にサポートする。

### 1.3 ターゲットユーザー
- **主要ターゲット**: 30-50代の健康改善・ダイエット・体型改善に関心のある女性
- **特性**:
  - 日常生活の中で健康習慣を身につけたい
  - 自分のペースでトレーニングを継続したい
  - 専門的すぎず、使いやすいツールを求めている
  - データで成果を実感しながらモチベーションを維持したい

### 1.4 アプリの役割
1. **来店前**: 混雑状況確認、トレーニング動画視聴
2. **来店時**: 入退館管理（SECOM連携）、AIマシン・測定機器利用
3. **来店後**: 運動記録・体組成データ確認、週次サマリ閲覧
4. **日常**: 自宅トレーニング記録、リワード獲得、お知らせ確認

---

## 2. デザインポリシー

### 2.1 ネイティブアプリとしての設計方針

**MyFurdiはスマートフォンネイティブアプリとして、各プラットフォームの特性を最大限に活かした設計を行う。**

#### プラットフォーム別ガイドライン準拠
- **iOS**: Apple Human Interface Guidelines (HIG) 準拠
  - SF Pro フォントの活用（数値表示等）
  - iOS標準UIコンポーネントの使用
  - ナビゲーションパターンの統一
  - セーフエリアの考慮（ノッチ対応）

- **Android**: Material Design 3 準拠
  - Material You のダイナミックカラー対応
  - Android標準コンポーネントの使用
  - ナビゲーションドロワー/ボトムバーの適切な使用
  - システムバーの色調整

#### ネイティブならではの体験
- **高速なパフォーマンス**: ネイティブコードによる滑らかな動作
- **オフライン対応**: ローカルストレージ活用で通信不要時も利用可能
- **システム統合**: OS機能とシームレスに連携
- **デバイス最適化**: 各画面サイズ・解像度に最適化

---

### 2.2 デザインコンセプト
**"やさしく、洗練された、私のための空間"**

女性ユーザーが安心感と心地よさを感じながら、自分自身の成長を楽しめるデザインを目指す。

---

### 2.3 カラーパレット

#### プライマリカラー
- **メインピンク**: `#FF69B4` (FURDIブランドカラー)
  - 用途: ボタン、アクセント、重要な情報
  - 女性らしさ、やさしさ、エネルギーを表現

- **ソフトピンク**: `#FFE4E1`
  - 用途: 背景、カード、ハイライト
  - 柔らかさと親しみやすさを演出

#### セカンダリカラー
- **ディープグレー**: `#4A4A4A`
  - 用途: メインテキスト、見出し
  - 読みやすさと落ち着きを提供

- **ライトグレー**: `#F5F5F5`
  - 用途: 背景、セクション区切り
  - クリーンで洗練された印象

- **ホワイト**: `#FFFFFF`
  - 用途: カード背景、メイン背景
  - 清潔感と開放感

#### アクセントカラー
- **成功・達成**: `#4CAF50` (グリーン)
  - リワード達成、目標クリア

- **注意・リマインド**: `#FFA726` (オレンジ)
  - プッシュ通知、重要なお知らせ

- **情報**: `#42A5F5` (ブルー)
  - 混雑状況、データグラフ

### 2.4 タイポグラフィ

#### フォントファミリー
- **見出し**: Noto Sans JP (Bold, 700)
  - 明瞭で読みやすい日本語フォント

- **本文**: Noto Sans JP (Regular, 400)
  - 長文でも読みやすさを保つ

- **数字・データ**: Roboto (Medium, 500)
  - 数値の視認性を高める

#### フォントサイズ階層
```
H1 (画面タイトル):     24px / 1.5rem
H2 (セクション見出し):  20px / 1.25rem
H3 (カード見出し):     18px / 1.125rem
本文 (Body):          16px / 1rem
補足 (Caption):       14px / 0.875rem
小文字 (Small):       12px / 0.75rem
```

### 2.5 レイアウト原則

#### グリッドシステム
- **横幅**: 最大幅 414px（iPhone Pro Max基準）
- **マージン**: 左右 16px
- **カード間隔**: 16px
- **セクション間隔**: 24px

#### カードデザイン
- **角丸**: 12px (やわらかい印象)
- **シャドウ**: `0px 2px 8px rgba(0, 0, 0, 0.1)` (浮遊感)
- **内側余白**: 16px

#### ボタンデザイン
- **プライマリボタン**:
  - 背景: メインピンク
  - テキスト: ホワイト
  - 高さ: 48px (タップしやすいサイズ)
  - 角丸: 24px (pill型)

- **セカンダリボタン**:
  - 背景: ホワイト
  - ボーダー: メインピンク 2px
  - テキスト: メインピンク

- **テキストボタン**:
  - 背景: なし
  - テキスト: メインピンク

### 2.6 アイコン・イラストレーション

#### アイコンスタイル
- **スタイル**: ライン型、丸みのあるデザイン
- **太さ**: 2px
- **カラー**: 状況に応じてグレー or ピンク
- **サイズ**: 24px（標準）、32px（目立たせる場合）

#### イラスト
- **トーン**: やわらかく、親しみやすい
- **スタイル**: フラットデザイン、グラデーション控えめ
- **使用箇所**: 空状態、チュートリアル、達成画面

### 2.7 インタラクション・アニメーション

#### 基本原則
- **スムーズ**: すべての遷移は滑らかに（300ms以内）
- **フィードバック**: タップ時に視覚的フィードバック（ripple effect）
- **自然**: イージング関数を活用（ease-in-out）

#### アニメーション例
- ボタンタップ: スケール 0.95
- カード表示: フェードイン + スライドアップ
- データ更新: パルスアニメーション
- リワード獲得: 紙吹雪エフェクト

### 2.8 ジェスチャーインタラクション（ネイティブアプリ特有）

**スマートフォンの直感的な操作を活用した設計**

#### 基本ジェスチャー
- **タップ**: 選択・決定・アクション実行
- **長押し**: コンテキストメニュー表示、詳細情報表示
- **スワイプ（左右）**:
  - タブ切替（レポート画面、リワード画面）
  - カルーセル操作（お知らせバナー等）
  - リスト項目のアクション（削除、編集）
- **スワイプ（上下）**:
  - スクロール
  - プルダウンリフレッシュ（ホーム画面等）
  - モーダルを閉じる（下方向スワイプ）
- **ピンチ**: 画像拡大（体組成グラフ、写真等）
- **ダブルタップ**: いいね/お気に入り（将来対応）

#### プラットフォーム固有ジェスチャー
- **iOS**:
  - 画面端からのスワイプで戻る（システム標準）
  - モーダルの上部バーをドラッグして閉じる
- **Android**:
  - システムナビゲーション（戻る、ホーム、最近）との統合
  - スワイプジェスチャーナビゲーション対応

#### ジェスチャーフィードバック
- 操作可能な要素は視覚的に識別可能にする
- スワイプ時はコンテンツが指に追従する動き
- 長押し時は軽微な振動（ハプティクス）でフィードバック

---

### 2.9 ハプティクスフィードバック（触覚フィードバック）

**視覚・聴覚に加え、触覚でもユーザーに情報を伝える**

#### フィードバックパターン

**軽い振動（Light Impact）**:
- ボタンタップ
- タブ切替
- スイッチON/OFF

**中程度の振動（Medium Impact）**:
- チャレンジ達成
- 記録保存完了
- エラー時

**強い振動（Heavy Impact）**:
- バッジ獲得
- 目標達成
- 重要な通知

**成功パターン（Success）**:
- データ保存成功
- チャレンジ完了
- 同期完了

**警告パターン（Warning）**:
- 入力エラー
- 期限間近の通知

**エラーパターン（Error）**:
- 通信エラー
- 操作失敗

#### 設定
- ハプティクスのON/OFF設定可能
- デバイスがサポートしない場合は自動的にオフ
- バッテリー節約モード時は無効化

---

### 2.10 システム統合

**OSの機能とシームレスに連携**

#### 通知システム
- **プッシュ通知**:
  - リッチ通知（画像、アクションボタン付き）
  - 通知グループ化（カテゴリ別）
  - クリティカル通知（重要なお知らせ）
  - ディープリンク（通知タップで該当画面へ直接遷移）

- **ローカル通知**:
  - リマインド（来店時刻、記録忘れ等）
  - チャレンジ期限前の通知

#### ウィジェット（将来対応）
- **iOS ホーム画面ウィジェット**:
  - 小: 今日のチャレンジ達成状況
  - 中: 混雑状況 + 来店サマリ
  - 大: 週間サマリ + 健康データ

- **Android ホーム画面ウィジェット**:
  - Material You 対応
  - リサイズ可能
  - タップで該当機能へ遷移

#### Share Sheet / 共有機能（将来対応）
- バッジ獲得をSNSにシェア
- 成果（体重変化等）のシェア
- 招待リンクの共有

#### 他アプリ連携
- **Apple Health / Google Fit**:
  - 歩数データの取得
  - 体重・体脂肪データの同期
  - ワークアウトデータの連携

- **カレンダー連携**:
  - 来店予定をカレンダーに追加
  - チャレンジ期限をリマインド

#### App Shortcuts（クイックアクション）
- ホーム画面長押しメニュー:
  - 混雑状況を確認
  - 運動を記録
  - 入館証を表示
  - 今日のチャレンジ

#### Siri Shortcuts / Google Assistant（将来対応）
- 音声コマンドでアプリ操作
- 例: 「Hey Siri, FURDIの混雑状況は？」

---

### 2.11 デバイス機能活用

**スマートフォン固有の機能を最大限に活用**

#### カメラ
- **QRコードスキャン**:
  - 店舗専用QRコードの読み取り
  - キャンペーンコードの読み取り

- **体組成計測結果の撮影**（将来対応）:
  - OCRで数値を自動認識
  - 手動入力の手間を削減

#### 位置情報
- **現在地から最寄り店舗を表示**:
  - GPS利用で自動検出
  - 店舗までのルート案内連携

- **ジオフェンシング**（将来対応）:
  - 店舗付近で自動的に入館証画面を通知
  - 来店時の自動記録

#### 生体認証
- **Face ID / Touch ID / 指紋認証**:
  - アプリロック機能（プライバシー保護）
  - ログイン時の簡易認証
  - 支払い認証（将来対応）

#### NFC（将来対応）
- NFCタグでの入退館
- 非接触決済

#### センサー
- **歩数計**: バックグラウンドで歩数を記録
- **加速度センサー**: 運動検出（将来対応）

---

### 2.12 アクセシビリティ

#### コントラスト比
- テキストと背景: 最低 4.5:1 (WCAG AA準拠)
- 重要情報: 7:1 (WCAG AAA推奨)

#### タッチターゲット
- 最小サイズ: 44x44px
- 間隔: 最低 8px

#### 色覚配慮
- 混雑状況などは色だけでなくアイコン・テキストも併用
- 赤緑色覚異常に配慮した配色

#### 音声読み上げ（VoiceOver / TalkBack）
- すべてのUI要素に適切なアクセシビリティラベルを付与
- 画像には代替テキストを設定
- 操作可能な要素は音声で説明

#### 文字サイズ対応
- システムの文字サイズ設定に対応
- Dynamic Type（iOS）/ Scalable Text（Android）対応
- 最大200%まで拡大可能

#### ダークモード対応
- **iOS Dark Mode / Android Dark Theme**:
  - システム設定に自動追従
  - アプリ内で個別設定も可能
  - ダークモード専用カラーパレット:
    - 背景: `#1C1C1E`（iOS）/ `#121212`（Android）
    - カード: `#2C2C2E`（iOS）/ `#1E1E1E`（Android）
    - テキスト: `#FFFFFF`（高コントラスト）
    - アクセント: メインピンクを少し明るく調整

---

## 3. UX設計原則

### 3.1 フリクションレスな体験設計
**"ストレスなく、スムーズに、自然に"**

#### 実装方針
- **ワンタップアクセス**: 主要機能（入館証、混雑確認、記録）は1-2タップで到達
- **自動化**: データ連携により手動入力を最小限に（SECOM、TANITA、PIXFORMANCE）
- **予測入力**: 過去の行動パターンから次のアクションを提案
- **オフライン対応**: ネットワーク不安定時でも基本機能は利用可能

#### 具体例
- QRコードは入館証画面を開くだけで即表示（読み込み不要）
- 混雑状況はホーム画面で一目で確認可能
- 体組成測定後、自動でアプリに反映（手動入力不要）

---

### 3.2 データ駆動のモチベーション維持
**"見える成果が、続ける力になる"**

#### 実装方針
- **即時フィードバック**: アクション直後に結果を視覚化
- **トレンド分析**: 週次・月次の推移を自動グラフ化
- **比較表示**: 前回比・目標比を常に表示
- **マイルストーン**: 節目（-1kg、10回来店等）で祝福演出

#### データ可視化の3原則
1. **シンプル**: 複雑なデータも一目で理解できるグラフ
2. **ポジティブ**: 良い変化を強調、悪い変化も前向きなメッセージで
3. **アクショナブル**: データから次の行動を提案

#### 具体例
- ホーム画面で「今週3回来店、あと1回で目標達成！」
- 体重グラフで「先週より-0.5kg、順調です✨」
- 「同じ時期に始めた方の平均と比べて+2回来店しています」

---

### 3.3 ゲーミフィケーション設計
**"楽しいから、続けられる"**

#### 3層構造のゲーミフィケーション

**Layer 1: 日次チャレンジ（低いハードル）**
- 毎日達成可能な簡単なタスク
- 例: 「アプリを開く」「体重を記録する」「混雑状況を確認する」
- 達成報酬: スタンプ、小バッジ

**Layer 2: 週次・月次チャレンジ（中程度のハードル）**
- 継続が必要なタスク
- 例: 「週3回来店」「連続7日記録」「動画3本視聴」
- 達成報酬: 特別バッジ、プログレスバー進捗

**Layer 3: 長期実績（高いハードル）**
- 長期間の努力で得られる称号
- 例: 「100回来店」「体重-5kg達成」「6ヶ月継続」
- 達成報酬: レアバッジ、ランク昇格、特典（店舗特典等）

#### ゲーミフィケーション要素
- **プログレスバー**: 目標達成度を視覚化
- **連続記録（ストリーク）**: 「〇日連続」の強調表示
- **バッジコレクション**: 獲得欲を刺激するデザイン
- **サプライズ報酬**: ランダム要素（月1回のスペシャルバッジ等）
- **ソーシャル比較**: 匿名化された平均データとの比較（将来対応）

---

### 3.4 エンゲージメント戦略
**"毎日開きたくなる仕掛け"**

#### 4つのエンゲージメントトリガー

**1. 情報の即時性（リアルタイム価値）**
- 混雑状況の更新（5分ごと）
- 来店直後の運動記録自動反映
- 測定直後の体組成データ表示
→ 「今知りたい情報」がアプリにある状態を維持

**2. 低いエンゲージメント入口**
- 1タップで完了するアクション設計
- 「体重を記録するだけで報酬」など敷居の低いタスク
- プッシュ通知から直接アクション完了（ディープリンク）
→ 「ちょっと開いてみよう」を誘発

**3. 日次・週次リズム**
- 毎朝8時: 「おはようございます！今日のチャレンジ」
- 来店予定日18時: 「混雑状況をチェック」
- 週末: 「今週のサマリーができました」
→ 生活リズムに組み込まれた習慣化

**4. パーソナライズド通知**
- 来店間隔が空いたら: 「〇〇さん、お久しぶりです」
- 目標達成間近: 「あと1回来店で目標達成です！」
- 混雑が解消: 「お気に入り店舗が空いています」
→ 個人に最適化されたタイミングでの接触

---

### 3.5 シンプルさと直感性
**"迷わない、わかりやすい"**

#### 実装方針
- **階層を浅く**: 主要機能まで最大2タップ
- **選択肢を絞る**: 1画面に表示するアクションは3-5個まで
- **視覚的アイコン**: 文字だけでなくアイコンで直感的に理解
- **一貫したパターン**: カードデザイン、ボタン配置を統一

---

### 3.6 達成感と成功体験
**"小さな積み重ねが、大きな自信に"**

#### 実装方針
- **マイクロインタラクション**: ボタンタップ、記録保存時の気持ち良いアニメーション
- **祝福演出**: バッジ獲得時の紙吹雪、サウンド（オプション）
- **進捗の可視化**: プログレスバー、グラフで成長を実感
- **ポジティブメッセージ**: すべてのフィードバックに励ましの言葉

---

### 3.7 安心感と包容性
**"女性専用の、私だけの空間"**

#### 実装方針
- **優しいトーン**: ピンクを基調とした柔らかい配色
- **寄り添うメッセージ**: 厳しい指摘ではなく、応援する言葉
- **プライバシー配慮**: データは本人のみ閲覧、匿名化された比較のみ
- **安全性**: セキュアな通信、明確なデータポリシー表示

---

### 3.8 包括的なセルフサービス
**"疑問も手続きも、アプリで完結"**

#### 実装方針
- **FAQ充実化**: よくある質問を網羅、検索可能
- **ガイド動画**: 使い方を動画で説明
- **チャットサポート**: アプリ内から直接問い合わせ（将来対応）
- **契約管理**: プラン変更、休会、退会もアプリで完結

---

### 3.9 パーソナライゼーション
**"私に合わせた、私だけの体験"**

#### 実装方針
- **学習アルゴリズム**: 行動パターンから最適な情報を提示
- **カスタマイズ**: ホーム画面の表示項目を自由に設定
- **目標設定**: 個人の目標に合わせたチャレンジ・通知
- **AIレコメンド**: 次に見るべき動画、来店最適時間を提案

---

## 4. 技術前提

### 4.1 開発フレームワーク

**Flutter による クロスプラットフォーム開発**

MyFurdiアプリは、Flutterフレームワークを使用してiOS/Androidの両プラットフォームに対応します。シングルコードベースで効率的な開発を実現しつつ、各プラットフォームのネイティブな体験を提供します。

#### Flutter採用の利点
- **開発効率**: 1つのコードベースでiOS/Android両対応
- **一貫したUI**: プラットフォーム間でデザインの統一性を保つ
- **高いパフォーマンス**: ネイティブコンパイルによる高速動作
- **豊富なウィジェット**: Material / Cupertino ウィジェットの活用
- **ホットリロード**: 開発中の即座のプレビュー

#### プラットフォーム適応設計（Adaptive UI）

**基本方針**: FURDIブランドの統一感を保ちつつ、各プラットフォームのユーザー体験を尊重

**共通デザイン要素**:
- カラーパレット（ピンク基調）
- フォント（Noto Sans JP / Roboto）
- アイコンスタイル
- カードレイアウト
- ボタンデザインの基本形

**プラットフォーム別要素**:

| 要素 | iOS | Android | 実装方法 |
|------|-----|---------|----------|
| **ナビゲーション** | CupertinoTabBar（下部タブ） | BottomNavigationBar | Platform.isIOS で分岐 |
| **アラートダイアログ** | CupertinoAlertDialog | AlertDialog | showPlatformDialog() |
| **日付ピッカー** | CupertinoDatePicker | Material DatePicker | Platform対応ピッカー |
| **スイッチ** | CupertinoSwitch | Switch | Platform対応ウィジェット |
| **スクロール挙動** | iOSバウンス効果 | Androidグロウ効果 | デフォルト動作 |
| **フォント** | SF Pro（数値） | Roboto（数値） | プラットフォーム検出 |
| **戻るボタン** | < 戻る（左上） | ← 戻る（左上） | 自動対応 |

#### UI実装パターン

**1. プラットフォーム検出**:
```dart
import 'dart:io' show Platform;

Widget buildButton() {
  return Platform.isIOS
    ? CupertinoButton(...)
    : ElevatedButton(...);
}
```

**2. Adaptive Widget の活用**:
```dart
// 両プラットフォームに自動対応
AdaptiveButton(...)
AdaptiveDialog(...)
AdaptiveSwitch(...)
```

**3. Theme の統一**:
```dart
ThemeData(
  primaryColor: Color(0xFFFF69B4), // FURDIピンク
  fontFamily: 'NotoSansJP',
  // iOS/Android で微調整
)
```

#### ウィジェット設計方針

**再利用性の最大化**:
- カスタムウィジェットの作成（FurdiCard, FurdiButton等）
- 共通コンポーネントライブラリの構築
- テーマ・スタイルの一元管理

**パフォーマンス最適化**:
- const constructor の活用
- 不要な rebuild の防止
- ListView.builder / GridView.builder の使用
- 画像の最適化・キャッシング

**状態管理**:
- Riverpod / Provider の活用
- 状態の適切な分離
- グローバル状態 vs ローカル状態の使い分け

#### プラットフォーム別最適化

**iOS 固有の対応**:
- Safe Area の考慮（ノッチ、Dynamic Island）
- HapticFeedback の活用
- iOS標準ジェスチャー（画面端スワイプで戻る）
- Apple Health 連携
- StoreKit（アプリ内課金、将来対応）

**Android 固有の対応**:
- Material Design 3 の適用
- Material You（Dynamic Color）対応
- Google Fit 連携
- Android の戻るボタン対応
- Google Play Billing（アプリ内課金、将来対応）

#### パッケージ・プラグイン選定方針

**必須パッケージ**:
- `flutter_riverpod`: 状態管理
- `go_router`: ルーティング・ディープリンク
- `dio`: HTTP通信
- `sqflite` / `hive`: ローカルDB
- `firebase_messaging`: プッシュ通知
- `flutter_local_notifications`: ローカル通知
- `shared_preferences`: 設定保存
- `cached_network_image`: 画像キャッシング

**プラットフォーム連携**:
- `health` / `google_fit`: ヘルスケアデータ連携
- `qr_code_scanner`: QRコード読み取り
- `url_launcher`: 外部リンク・電話・メール
- `geolocator`: 位置情報
- `permission_handler`: パーミッション管理

**UI/UX**:
- `flutter_svg`: SVGアイコン
- `shimmer`: スケルトンローディング
- `animations`: ページ遷移アニメーション
- `confetti`: 紙吹雪エフェクト（バッジ獲得時）
- `flutter_native_splash`: スプラッシュ画面

**品質担保**:
- `flutter_test`: ユニットテスト
- `integration_test`: E2Eテスト
- `flutter_lints`: コード品質チェック

---

### 4.2 プラットフォーム対応

- **iOS**: 14.0以上
  - iPhone SE (2nd gen) 以降を推奨
  - iPad 対応（将来対応）

- **Android**: 8.0 (API Level 26) 以上
  - 5インチ以上の画面を推奨
  - タブレット対応（将来対応）

- **レスポンシブデザイン**:
  - 画面サイズ: 320px 〜 428px（スマートフォン）
  - 解像度: @1x 〜 @3x 対応

---

### 4.3 連携システム

- **PIXFORMANCE**: AIマシン運動データ（REST API連携）
- **TANITA**: 体組成データ（REST API / Bluetooth連携）
- **SECOM**: 入退館管理（REST API連携）
- **CMS**: お知らせ・コンテンツ管理（Headless CMS / REST API）
- **YouTube**: トレーニング動画（YouTube Data API / iframe埋め込み）
- **遺伝子テストサービス**: 外部連携（WebView / REST API）
- **Firebase**:
  - Authentication（認証）
  - Cloud Messaging（プッシュ通知）
  - Analytics（分析）
  - Crashlytics（クラッシュレポート）

---

### 4.4 データポリシー

- **最小権限・データ最小化の原則**: 必要最小限のデータのみ取得・保存
- **プライバシー保護を最優先**:
  - 個人情報の暗号化保存
  - 通信の暗号化（HTTPS/TLS 1.3）
  - GDPR / CCPA 準拠
- **セキュアな通信**:
  - OAuth 2.0 / JWT による認証
  - API通信の証明書ピンニング
  - セキュアストレージの活用（flutter_secure_storage）
- **オフラインデータ**:
  - ローカルDB（SQLite / Hive）にキャッシュ
  - 同期時の競合解決メカニズム
- **データ保持期間**:
  - ログインセッション: 30日
  - キャッシュデータ: 7日
  - ユーザー削除時: 即座に全データ削除

---

## 5. ブランドボイス

### 5.1 トーン
- **親しみやすい**: 「〜ですよ」「〜しませんか？」
- **応援する**: 「がんばりましたね！」「もう少しです！」
- **専門的すぎない**: 専門用語は避け、わかりやすい言葉で

### 5.2 メッセージング例
- ❌ 「体脂肪率が基準値を超過しています」
- ✅ 「先週より少し増えています。次回がんばりましょう！」

- ❌ 「リワード獲得条件を達成しました」
- ✅ 「おめでとうございます！バッジを獲得しました✨」

---

## 6. パフォーマンス目標

### 6.1 起動・レスポンス時間
- **初回起動（コールドスタート）**: 3秒以内
- **2回目以降の起動（ウォームスタート）**: 1秒以内
- **画面遷移**: 300ms以内（60fps維持）
- **データ読み込み**: 2秒以内（ローディング表示あり）
- **API レスポンス**: 1秒以内（タイムアウト: 10秒）

### 6.2 Flutter 特有の最適化
- **ビルドサイズ**:
  - iOS: 20MB以下（リリースビルド）
  - Android: 15MB以下（APK）/ 10MB以下（AAB分割配信）
- **メモリ使用量**:
  - 通常時: 100MB以下
  - ピーク時: 200MB以下
- **フレームレート**: 60fps 維持（スクロール、アニメーション）
- **ビルド最適化**:
  - Tree shaking による不要コードの削除
  - 画像の遅延読み込み（lazy loading）
  - コード分割（Deferred loading）

### 6.3 オフライン対応
- **キャッシュ戦略**:
  - 主要画面データ: 7日間保持
  - 画像: 30日間保持（LRUキャッシュ）
  - API レスポンス: 条件付きキャッシュ
- **オフラインで利用可能な機能**:
  - ホーム画面（キャッシュデータ表示）
  - レポート画面（過去データ閲覧）
  - 入館証（QRコードキャッシュ）
  - リワード画面（バッジコレクション閲覧）
- **同期**:
  - オンライン復帰時に自動同期
  - バックグラウンド同期（定期的）

---

## 7. 今後の拡張性

- ソーシャル機能（コミュニティ、友達招待）
- AIチャットボット（トレーニング相談）
- ウェアラブル連携（Apple Watch, Fitbit等）
- オンラインクラス予約
- ポイントシステム導入
